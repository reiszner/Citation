<?xml version="1.0"?>

<PropertyList>

  <path>forklift.ac</path>

<!-- show pushback is it active -->
  <animation>
    <type>select</type>
    <condition>
      <property>sim/model/pushback/visible</property>
    </condition>
  </animation>

<!-- turn tug -->
  <animation>
    <type>rotate</type>
    <condition>
      <property>sim/model/pushback/linked</property>
    </condition>
    <property>sim/model/pushback/geometry/tug/angle</property>
    <center>
      <x-m>0.00</x-m>
      <y-m>0.00</y-m>
      <z-m>0.00</z-m>
    </center>
    <axis>
      <x>0</x>
      <y>0</y>
      <z>-1</z>
    </axis>
  </animation>

  <animation>
    <type>translate</type>
    <property>sim/model/pushback/geometry/hitch/x</property>
    <axis>
      <x>-1</x>
      <y>0</y>
      <z>0</z>
    </axis>
  </animation>

  <animation>
    <type>translate</type>
    <property>sim/model/pushback/geometry/hitch/y</property>
    <axis>
      <x>0</x>
      <y>1</y>
      <z>0</z>
    </axis>
  </animation>

<!-- turn wheels -->
  <animation>
    <type>rotate</type>
    <object-name>wheel.rear.left</object-name>
    <condition>
      <property>sim/model/pushback/geometry/tug/axis[0]/steerable</property>
    </condition>
    <expression>
      <dif>
        <property>sim/model/pushback/geometry/tug/angle</property>
        <property>sim/model/pushback/geometry/tug/axis[0]/angle</property>
      </dif>
    </expression>
    <center>
      <x-m>-0.61</x-m>
      <y-m>-0.35</y-m>
      <z-m>0.32</z-m>
    </center>
    <axis>
      <x>0</x>
      <y>0</y>
      <z>-1</z>
    </axis>
  </animation>

  <animation>
    <type>rotate</type>
    <object-name>wheel.rear.right</object-name>
    <condition>
      <property>sim/model/pushback/geometry/tug/axis[0]/steerable</property>
    </condition>
    <expression>
      <dif>
        <property>sim/model/pushback/geometry/tug/angle</property>
        <property>sim/model/pushback/geometry/tug/axis[0]/angle</property>
      </dif>
    </expression>
    <center>
      <x-m>-0.61</x-m>
      <y-m>0.35</y-m>
      <z-m>0.32</z-m>
    </center>
    <axis>
      <x>0</x>
      <y>0</y>
      <z>-1</z>
    </axis>
  </animation>

  <animation>
    <type>rotate</type>
    <object-name>wheel.front.left</object-name>
    <condition>
      <property>sim/model/pushback/geometry/tug/axis[1]/steerable</property>
    </condition>
    <expression>
      <dif>
        <property>sim/model/pushback/geometry/tug/angle</property>
        <property>sim/model/pushback/geometry/tug/axis[1]/angle</property>
      </dif>
    </expression>
    <center>
      <x-m>-2.46</x-m>
      <y-m>-0.48</y-m>
      <z-m>0.40</z-m>
    </center>
    <axis>
      <x>0</x>
      <y>0</y>
      <z>-1</z>
    </axis>
  </animation>

  <animation>
    <type>rotate</type>
    <object-name>wheel.front.right</object-name>
    <condition>
      <property>sim/model/pushback/geometry/tug/axis[1]/steerable</property>
    </condition>
    <expression>
      <dif>
        <property>sim/model/pushback/geometry/tug/angle</property>
        <property>sim/model/pushback/geometry/tug/axis[1]/angle</property>
      </dif>
    </expression>
    <center>
      <x-m>-2.46</x-m>
      <y-m>0.48</y-m>
      <z-m>0.40</z-m>
    </center>
    <axis>
      <x>0</x>
      <y>0</y>
      <z>-1</z>
    </axis>
  </animation>

<!-- wheel spin -->
  <animation>
    <type>spin</type>
    <object-name>wheel.rear.left</object-name>
    <property>sim/model/pushback/geometry/tug/axis[0]/spin</property>
    <center>
      <x-m>-0.61</x-m>
      <y-m>-0.35</y-m>
      <z-m>0.32</z-m>
    </center>
    <axis>
      <x>0</x>
      <y>-1</y>
      <z>0</z>
    </axis>
  </animation>

  <animation>
    <type>spin</type>
    <object-name>wheel.rear.right</object-name>
    <property>sim/model/pushback/geometry/tug/axis[0]/spin</property>
    <center>
      <x-m>-0.61</x-m>
      <y-m>0.35</y-m>
      <z-m>0.32</z-m>
    </center>
    <axis>
      <x>0</x>
      <y>-1</y>
      <z>0</z>
    </axis>
  </animation>

  <animation>
    <type>spin</type>
    <object-name>wheel.front.left</object-name>
    <property>sim/model/pushback/geometry/tug/axis[1]/spin</property>
    <center>
      <x-m>-2.46</x-m>
      <y-m>-0.48</y-m>
      <z-m>0.40</z-m>
    </center>
    <axis>
      <x>0</x>
      <y>-1</y>
      <z>0</z>
    </axis>
  </animation>

  <animation>
    <type>spin</type>
    <object-name>wheel.front.right</object-name>
    <property>sim/model/pushback/geometry/tug/axis[1]/spin</property>
    <center>
      <x-m>-2.46</x-m>
      <y-m>0.48</y-m>
      <z-m>0.40</z-m>
    </center>
    <axis>
      <x>0</x>
      <y>-1</y>
      <z>0</z>
    </axis>
  </animation>

<!-- compensate for gear compression -->
  <animation>
    <type>translate</type>
    <property>gear/gear[0]/compression-m-filtered</property>
    <axis>
      <x>0</x>
      <y>0</y>
      <z>1</z>
    </axis>
  </animation>

<!-- compensate for pitch of aircraft, keep pushback level -->
  <animation>
    <type>rotate</type>
    <property>orientation/pitch-deg</property>
    <center>
      <x-m>0.00</x-m>
      <y-m>0.00</y-m>
      <z-m>0.00</z-m>
    </center>
    <axis>
      <x>0</x>
      <y>-1</y>
      <z>0</z>
    </axis>
  </animation>

<!-- change heading of the pushback when driving the arc -->
  <animation>
    <type>rotate</type>
    <property>sim/model/pushback/position-norm</property>
    <factor>-90</factor>
    <offset-deg>90</offset-deg>
    <center>
      <x-m>-3</x-m>
      <y-m>-10</y-m>
      <z-m>0</z-m>
    </center>
    <axis>
      <x>0</x>
      <y>0</y>
      <z>1</z>
    </axis>
  </animation>

<!-- switch to night/day textures -->
  <animation>
    <type>textranslate</type>
    <property>/sim/time/sun-angle-rad</property>
    <step>1.60</step>
    <factor>0.3125</factor>
    <center>
      <x-m>0</x-m>
      <y-m>0</y-m>
      <z-m>0</z-m>
    </center>
    <axis>
      <x>-1</x>
      <y>0</y>
      <z>0</z>
    </axis>
  </animation>

  <animation>
    <type>material</type>
    <condition>
      <greater-than>
        <property>/sim/time/sun-angle-rad</property>
        <value>1.60</value>
      </greater-than>
    </condition>
    <emission>
      <red>1</red>
      <green>1</green>
      <blue>1</blue>
    </emission>
  </animation>

  <animation>
    <type>material</type>
    <condition>
      <less-than-equals>
        <property>/sim/time/sun-angle-rad</property>
        <value>1.60</value>
      </less-than-equals>
    </condition>
    <emission>
      <red>0</red>
      <green>0</green>
      <blue>0</blue>
    </emission>
  </animation>

</PropertyList>
