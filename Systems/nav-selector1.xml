<?xml version='1.0' encoding='utf-8'?>
<!--
Filters to gather information based on selected navigation sourse
Copyright (c) 2020 Sascha ReiÃŸner <reiszner@novaplan.at>

This program is free software; you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation; either version 2 of the License, or
(at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.

nav-source: 0=NAV / 1=ADF / 2=GPS
-->

<PropertyList>

    <filter>
        <name>signal valid</name>
        <debug>false</debug>
        <type>gain</type>
        <input>
            <condition>
                <equals>
                    <property>instrumentation/nav-selector[0]/nav-source</property>
                    <value>0</value>
                </equals>
                <equals>
                    <property>instrumentation/nav-selector[0]/nav-radio</property>
                    <value>0</value>
                </equals>
            </condition>
            <property>instrumentation/nav[0]/signal-valid</property>
        </input>
        <input>
            <condition>
                <equals>
                    <property>instrumentation/nav-selector[0]/nav-source</property>
                    <value>0</value>
                </equals>
                <equals>
                    <property>instrumentation/nav-selector[0]/nav-radio</property>
                    <value>1</value>
                </equals>
            </condition>
            <property>instrumentation/nav[1]/signal-valid</property>
        </input>
        <input>
            <condition>
                <equals>
                    <property>instrumentation/nav-selector[0]/nav-source</property>
                    <value>1</value>
                </equals>
            </condition>
            <property>instrumentation/adf[0]/signal-valid</property>
        </input>
        <input>
            <condition>
                <equals>
                    <property>instrumentation/nav-selector[0]/nav-source</property>
                    <value>2</value>
                </equals>
            </condition>
            <property>instrumentation/gps[0]/wp/wp[1]/valid</property>
        </input>
        <output>instrumentation/nav-selector[0]/signal-valid</output>
    </filter>

    <filter>
        <name>nav-loc</name>
        <debug>false</debug>
        <type>gain</type>
        <input>
            <condition>
                <equals>
                    <property>instrumentation/nav-selector[0]/nav-source</property>
                    <value>0</value>
                </equals>
                <equals>
                    <property>instrumentation/nav-selector[0]/nav-radio</property>
                    <value>0</value>
                </equals>
            </condition>
            <property>instrumentation/nav[0]/nav-loc</property>
        </input>
        <input>
            <condition>
                <equals>
                    <property>instrumentation/nav-selector[0]/nav-source</property>
                    <value>0</value>
                </equals>
                <equals>
                    <property>instrumentation/nav-selector[0]/nav-radio</property>
                    <value>1</value>
                </equals>
            </condition>
            <property>instrumentation/nav[1]/nav-loc</property>
        </input>
        <input>
            <condition>
                <equals>
                    <property>instrumentation/nav-selector[0]/nav-source</property>
                    <value>1</value>
                </equals>
            </condition>
            <value>0</value>
        </input>
        <input>
            <condition>
                <equals>
                    <property>instrumentation/nav-selector[0]/nav-source</property>
                    <value>2</value>
                </equals>
            </condition>
            <value>0</value>
        </input>
        <output>instrumentation/nav-selector[0]/nav-loc</output>
    </filter>

    <filter>
        <name>localizer valid</name>
        <debug>false</debug>
        <type>gain</type>
        <input>
            <condition>
                <equals>
                    <property>instrumentation/nav-selector[0]/nav-source</property>
                    <value>0</value>
                </equals>
                <equals>
                    <property>instrumentation/nav-selector[0]/nav-radio</property>
                    <value>0</value>
                </equals>
            </condition>
            <property>instrumentation/nav[0]/loc-valid</property>
        </input>
        <input>
            <condition>
                <equals>
                    <property>instrumentation/nav-selector[0]/nav-source</property>
                    <value>0</value>
                </equals>
                <equals>
                    <property>instrumentation/nav-selector[0]/nav-radio</property>
                    <value>1</value>
                </equals>
            </condition>
            <property>instrumentation/nav[1]/loc-valid</property>
        </input>
        <input>
            <condition>
                <equals>
                    <property>instrumentation/nav-selector[0]/nav-source</property>
                    <value>1</value>
                </equals>
            </condition>
            <value>0</value>
        </input>
        <input>
            <condition>
                <equals>
                    <property>instrumentation/nav-selector[0]/nav-source</property>
                    <value>2</value>
                </equals>
            </condition>
            <value>0</value>
        </input>
        <output>instrumentation/nav-selector[0]/loc-valid</output>
    </filter>

    <filter>
        <name>glideslope valid</name>
        <debug>false</debug>
        <type>gain</type>
        <input>
            <condition>
                <equals>
                    <property>instrumentation/nav-selector[0]/nav-source</property>
                    <value>0</value>
                </equals>
                <equals>
                    <property>instrumentation/nav-selector[0]/nav-radio</property>
                    <value>0</value>
                </equals>
            </condition>
            <property>instrumentation/nav[0]/gs-in-range</property>
        </input>
        <input>
            <condition>
                <equals>
                    <property>instrumentation/nav-selector[0]/nav-source</property>
                    <value>0</value>
                </equals>
                <equals>
                    <property>instrumentation/nav-selector[0]/nav-radio</property>
                    <value>1</value>
                </equals>
            </condition>
            <property>instrumentation/nav[1]/gs-in-range</property>
        </input>
        <input>
            <condition>
                <equals>
                    <property>instrumentation/nav-selector[0]/nav-source</property>
                    <value>1</value>
                </equals>
            </condition>
            <value>0</value>
        </input>
        <input>
            <condition>
                <equals>
                    <property>instrumentation/nav-selector[0]/nav-source</property>
                    <value>2</value>
                </equals>
            </condition>
            <value>0</value>
        </input>
        <output>instrumentation/nav-selector[0]/gs-valid</output>
    </filter>

    <filter>
        <name>from-flag</name>
        <debug>false</debug>
        <type>gain</type>
        <input>
            <condition>
                <equals>
                    <property>instrumentation/nav-selector[0]/nav-source</property>
                    <value>0</value>
                </equals>
                <equals>
                    <property>instrumentation/nav-selector[0]/nav-radio</property>
                    <value>0</value>
                </equals>
            </condition>
            <property>instrumentation/nav[0]/from-flag</property>
        </input>
        <input>
            <condition>
                <equals>
                    <property>instrumentation/nav-selector[0]/nav-source</property>
                    <value>0</value>
                </equals>
                <equals>
                    <property>instrumentation/nav-selector[0]/nav-radio</property>
                    <value>1</value>
                </equals>
            </condition>
            <property>instrumentation/nav[1]/from-flag</property>
        </input>
        <input>
            <condition>
                <equals>
                    <property>instrumentation/nav-selector[0]/nav-source</property>
                    <value>1</value>
                </equals>
            </condition>
            <property>instrumentation/adf[0]/from-flag</property>
        </input>
        <input>
            <condition>
                <equals>
                    <property>instrumentation/nav-selector[0]/nav-source</property>
                    <value>2</value>
                </equals>
                <property>instrumentation/gps[0]/wp/wp[1]/valid</property>
            </condition>
            <property>instrumentation/gps[0]/wp/wp[1]/from-flag</property>
        </input>
        <input>0</input>
        <output>instrumentation/nav-selector[0]/from-flag</output>
    </filter>

    <filter>
        <name>to-flag</name>
        <debug>false</debug>
        <type>gain</type>
        <input>
            <condition>
                <equals>
                    <property>instrumentation/nav-selector[0]/nav-source</property>
                    <value>0</value>
                </equals>
                <equals>
                    <property>instrumentation/nav-selector[0]/nav-radio</property>
                    <value>0</value>
                </equals>
            </condition>
            <property>instrumentation/nav[0]/to-flag</property>
        </input>
        <input>
            <condition>
                <equals>
                    <property>instrumentation/nav-selector[0]/nav-source</property>
                    <value>0</value>
                </equals>
                <equals>
                    <property>instrumentation/nav-selector[0]/nav-radio</property>
                    <value>1</value>
                </equals>
            </condition>
            <property>instrumentation/nav[1]/to-flag</property>
        </input>
        <input>
            <condition>
                <equals>
                    <property>instrumentation/nav-selector[0]/nav-source</property>
                    <value>1</value>
                </equals>
            </condition>
            <property>instrumentation/adf[0]/to-flag</property>
        </input>
        <input>
            <condition>
                <equals>
                    <property>instrumentation/nav-selector[0]/nav-source</property>
                    <value>2</value>
                </equals>
                <property>instrumentation/gps[0]/wp/wp[1]/valid</property>
            </condition>
            <property>instrumentation/gps[0]/wp/wp[1]/to-flag</property>
        </input>
        <input>0</input>
        <output>instrumentation/nav-selector[0]/to-flag</output>
    </filter>

    <filter>
        <name>selected-radial-deg</name>
        <debug>false</debug>
        <type>gain</type>
        <input>
            <condition>
                <equals>
                    <property>instrumentation/nav-selector[0]/nav-source</property>
                    <value>0</value>
                </equals>
                <equals>
                    <property>instrumentation/nav-selector[0]/nav-radio</property>
                    <value>0</value>
                </equals>
            </condition>
            <property>instrumentation/nav[0]/radials/selected-deg</property>
        </input>
        <input>
            <condition>
                <equals>
                    <property>instrumentation/nav-selector[0]/nav-source</property>
                    <value>0</value>
                </equals>
                <equals>
                    <property>instrumentation/nav-selector[0]/nav-radio</property>
                    <value>1</value>
                </equals>
            </condition>
            <property>instrumentation/nav[1]/radials/selected-deg</property>
        </input>
        <input>
            <condition>
                <equals>
                    <property>instrumentation/nav-selector[0]/nav-source</property>
                    <value>1</value>
                </equals>
            </condition>
            <property>instrumentation/adf[0]/radials/selected-radial-deg</property>
        </input>
        <input>
            <condition>
                <equals>
                    <property>instrumentation/nav-selector[0]/nav-source</property>
                    <value>2</value>
                </equals>
            </condition>
<!--
            <expression>
                <dif>
                    <property>autopilot/route-manager/route/wp[n]/leg-bearing-true-deg</property>
                    <property>environment/magnetic-variation-deg</property>
                </dif>
            </expression>
-->
            <property>environment/magnetic-variation-deg</property>

        </input>
        <output>instrumentation/nav-selector[0]/selected-radial-deg</output>
    </filter>

    <filter>
        <name>reciprocal-radial-deg</name>
        <debug>false</debug>
        <type>gain</type>
        <input>
            <condition>
                <equals>
                    <property>instrumentation/nav-selector[0]/nav-source</property>
                    <value>0</value>
                </equals>
                <equals>
                    <property>instrumentation/nav-selector[0]/nav-radio</property>
                    <value>0</value>
                </equals>
            </condition>
            <property>instrumentation/nav[0]/radials/reciprocal-radial-deg</property>
        </input>
        <input>
            <condition>
                <equals>
                    <property>instrumentation/nav-selector[0]/nav-source</property>
                    <value>0</value>
                </equals>
                <equals>
                    <property>instrumentation/nav-selector[0]/nav-radio</property>
                    <value>1</value>
                </equals>
            </condition>
            <property>instrumentation/nav[1]/radials/reciprocal-radial-deg</property>
        </input>
        <input>
            <condition>
                <equals>
                    <property>instrumentation/nav-selector[0]/nav-source</property>
                    <value>1</value>
                </equals>
            </condition>
            <property>instrumentation/adf[0]/radials/reciprocal-radial-deg</property>
        </input>
        <input>
            <condition>
                <equals>
                    <property>instrumentation/nav-selector[0]/nav-source</property>
                    <value>2</value>
                </equals>
            </condition>
            <value>0</value>
        </input>
        <output>instrumentation/nav-selector[0]/reciprocal-radial-deg</output>
    </filter>

    <filter>
        <name>target-radial-deg</name>
        <debug>false</debug>
        <type>gain</type>
        <input>
            <condition>
                <equals>
                    <property>instrumentation/nav-selector[0]/nav-source</property>
                    <value>0</value>
                </equals>
                <equals>
                    <property>instrumentation/nav-selector[0]/nav-radio</property>
                    <value>0</value>
                </equals>
            </condition>
            <property>instrumentation/nav[0]/radials/target-radial-deg</property>
        </input>
        <input>
            <condition>
                <equals>
                    <property>instrumentation/nav-selector[0]/nav-source</property>
                    <value>0</value>
                </equals>
                <equals>
                    <property>instrumentation/nav-selector[0]/nav-radio</property>
                    <value>1</value>
                </equals>
            </condition>
            <property>instrumentation/nav[1]/radials/target-radial-deg</property>
        </input>
        <input>
            <condition>
                <equals>
                    <property>instrumentation/nav-selector[0]/nav-source</property>
                    <value>1</value>
                </equals>
            </condition>
            <property>instrumentation/adf[0]/radials/selected-radial-deg</property>
        </input>
        <input>
            <condition>
                <equals>
                    <property>instrumentation/nav-selector[0]/nav-source</property>
                    <value>2</value>
                </equals>
            </condition>
            <value>0</value>
        </input>
        <output>instrumentation/nav-selector[0]/target-radial-deg</output>
    </filter>

    <filter>
        <name>VOR deflection</name>
        <debug>false</debug>
        <type>gain</type>
        <input>
            <condition>
                <equals>
                    <property>instrumentation/nav-selector[0]/nav-source</property>
                    <value>0</value>
                </equals>
                <equals>
                    <property>instrumentation/nav-selector[0]/nav-radio</property>
                    <value>0</value>
                </equals>
            </condition>
            <property>instrumentation/nav[0]/heading-needle-deflection</property>
        </input>
        <input>
            <condition>
                <equals>
                    <property>instrumentation/nav-selector[0]/nav-source</property>
                    <value>0</value>
                </equals>
                <equals>
                    <property>instrumentation/nav-selector[0]/nav-radio</property>
                    <value>1</value>
                </equals>
            </condition>
            <property>instrumentation/nav[1]/heading-needle-deflection</property>
        </input>
        <input>
            <condition>
                <equals>
                    <property>instrumentation/nav-selector[0]/nav-source</property>
                    <value>1</value>
                </equals>
            </condition>
            <property>instrumentation/adf[0]/heading-needle-deflection</property>
        </input>
        <input>
            <condition>
                <equals>
                    <property>instrumentation/nav-selector[0]/nav-source</property>
                    <value>2</value>
                </equals>
            </condition>
            <property>instrumentation/gps[0]/cdi-deflection</property>
        </input>
        <output>instrumentation/nav-selector[0]/vor-deflection</output>
    </filter>

    <filter>
        <name>cone of confusion signal</name>
        <debug>false</debug>
        <type>gain</type>
        <input>
            <condition>
                <equals>
                    <property>instrumentation/nav-selector[0]/nav-source</property>
                    <value>0</value>
                </equals>
                <equals>
                    <property>instrumentation/nav-selector[0]/nav-radio</property>
                    <value>0</value>
                </equals>
            </condition>
            <property>instrumentation/nav[0]/coc-signal</property>
        </input>
        <input>
            <condition>
                <equals>
                    <property>instrumentation/nav-selector[0]/nav-source</property>
                    <value>0</value>
                </equals>
                <equals>
                    <property>instrumentation/nav-selector[0]/nav-radio</property>
                    <value>1</value>
                </equals>
            </condition>
            <property>instrumentation/nav[1]/coc-signal</property>
        </input>
        <input>
            <condition>
                <equals>
                    <property>instrumentation/nav-selector[0]/nav-source</property>
                    <value>1</value>
                </equals>
            </condition>
            <value>1</value>
        </input>
        <input>
            <condition>
                <equals>
                    <property>instrumentation/nav-selector[0]/nav-source</property>
                    <value>2</value>
                </equals>
            </condition>
            <value>1</value>
        </input>
        <output>instrumentation/nav-selector[0]/coc-signal</output>
    </filter>

    <filter>
        <name>localizer deflection</name>
        <debug>false</debug>
        <type>gain</type>
        <input>
            <condition>
                <equals>
                    <property>instrumentation/nav-selector[0]/nav-source</property>
                    <value>0</value>
                </equals>
                <equals>
                    <property>instrumentation/nav-selector[0]/nav-radio</property>
                    <value>0</value>
                </equals>
            </condition>
            <property>instrumentation/nav[0]/loc-deflection</property>
        </input>
        <input>
            <condition>
                <equals>
                    <property>instrumentation/nav-selector[0]/nav-source</property>
                    <value>0</value>
                </equals>
                <equals>
                    <property>instrumentation/nav-selector[0]/nav-radio</property>
                    <value>1</value>
                </equals>
            </condition>
            <property>instrumentation/nav[1]/loc-deflection</property>
        </input>
        <input>
            <condition>
                <equals>
                    <property>instrumentation/nav-selector[0]/nav-source</property>
                    <value>1</value>
                </equals>
            </condition>
            <value>0</value>
        </input>
        <input>
            <condition>
                <equals>
                    <property>instrumentation/nav-selector[0]/nav-source</property>
                    <value>2</value>
                </equals>
            </condition>
            <value>0</value>
        </input>
        <output>instrumentation/nav-selector[0]/loc-deflection</output>
    </filter>

    <filter>
        <name>nav-intercept-sec</name>
        <debug>false</debug>
        <type>gain</type>
        <input>
            <condition>
                <equals>
                    <property>instrumentation/nav-selector[0]/nav-source</property>
                    <value>0</value>
                </equals>
                <equals>
                    <property>instrumentation/nav-selector[0]/nav-radio</property>
                    <value>0</value>
                </equals>
            </condition>
            <property>instrumentation/nav[0]/time-to-intercept-sec</property>
        </input>
        <input>
            <condition>
                <equals>
                    <property>instrumentation/nav-selector[0]/nav-source</property>
                    <value>0</value>
                </equals>
                <equals>
                    <property>instrumentation/nav-selector[0]/nav-radio</property>
                    <value>1</value>
                </equals>
            </condition>
            <property>instrumentation/nav[1]/time-to-intercept-sec</property>
        </input>
        <input>
            <condition>
                <equals>
                    <property>instrumentation/nav-selector[0]/nav-source</property>
                    <value>1</value>
                </equals>
            </condition>
            <property>instrumentation/adf[0]/time-to-intercept-sec</property>
        </input>
        <input>
            <condition>
                <equals>
                    <property>instrumentation/nav-selector[0]/nav-source</property>
                    <value>2</value>
                </equals>
            </condition>
            <property>instrumentation/gps[0]/wp/wp[1]/time-to-intercept-sec</property>
        </input>
        <output>instrumentation/nav-selector[0]/nav-intercept-sec</output>
    </filter>

    <filter>
        <name>nav-distance</name>
        <debug>false</debug>
        <type>gain</type>
        <input>
            <condition>
                <equals>
                    <property>instrumentation/nav-selector[0]/nav-source</property>
                    <value>0</value>
                </equals>
                <equals>
                    <property>instrumentation/nav-selector[0]/nav-radio</property>
                    <value>0</value>
                </equals>
            </condition>
            <property>instrumentation/nav[0]/nav-distance</property>
        </input>
        <input>
            <condition>
                <equals>
                    <property>instrumentation/nav-selector[0]/nav-source</property>
                    <value>0</value>
                </equals>
                <equals>
                    <property>instrumentation/nav-selector[0]/nav-radio</property>
                    <value>1</value>
                </equals>
            </condition>
            <property>instrumentation/nav[1]/nav-distance</property>
        </input>
        <input>
            <condition>
                <equals>
                    <property>instrumentation/nav-selector[0]/nav-source</property>
                    <value>1</value>
                </equals>
            </condition>
            <value>27780</value> <!-- TODO -->
        </input>
        <input>
            <condition>
                <equals>
                    <property>instrumentation/nav-selector[0]/nav-source</property>
                    <value>2</value>
                </equals>
            </condition>
            <expression>
                <product>
                    <property>instrumentation/gps[0]/wp/wp[1]/distance-nm</property>
                    <value>1852</value>
                </product>
            </expression>
        </input>
        <output>instrumentation/nav-selector[0]/nav-distance</output>
    </filter>

    <filter>
        <name>glideslope deflection</name>
        <debug>false</debug>
        <type>gain</type>
        <input>
            <condition>
                <equals>
                    <property>instrumentation/nav-selector[0]/nav-source</property>
                    <value>0</value>
                </equals>
                <equals>
                    <property>instrumentation/nav-selector[0]/nav-radio</property>
                    <value>0</value>
                </equals>
            </condition>
            <property>instrumentation/nav[0]/gs-needle-deflection</property>
        </input>
        <input>
            <condition>
                <equals>
                    <property>instrumentation/nav-selector[0]/nav-source</property>
                    <value>0</value>
                </equals>
                <equals>
                    <property>instrumentation/nav-selector[0]/nav-radio</property>
                    <value>1</value>
                </equals>
            </condition>
            <property>instrumentation/nav[1]/gs-needle-deflection</property>
        </input>
        <input>
            <condition>
                <equals>
                    <property>instrumentation/nav-selector[0]/nav-source</property>
                    <value>1</value>
                </equals>
            </condition>
            <value>0</value>
        </input>
        <input>
            <condition>
                <equals>
                    <property>instrumentation/nav-selector[0]/nav-source</property>
                    <value>2</value>
                </equals>
            </condition>
            <value>0</value>
        </input>
        <output>instrumentation/nav-selector[0]/gs-deflection</output>
    </filter>

    <filter>
        <name>glideslope intercept-sec</name>
        <debug>false</debug>
        <type>gain</type>
        <input>
            <condition>
                <equals>
                    <property>instrumentation/nav-selector[0]/nav-source</property>
                    <value>0</value>
                </equals>
                <equals>
                    <property>instrumentation/nav-selector[0]/nav-radio</property>
                    <value>0</value>
                </equals>
            </condition>
            <property>instrumentation/nav[0]/gs-intercept-sec</property>
        </input>
        <input>
            <condition>
                <equals>
                    <property>instrumentation/nav-selector[0]/nav-source</property>
                    <value>0</value>
                </equals>
                <equals>
                    <property>instrumentation/nav-selector[0]/nav-radio</property>
                    <value>1</value>
                </equals>
            </condition>
            <property>instrumentation/nav[1]/gs-intercept-sec</property>
        </input>
        <input>
            <condition>
                <equals>
                    <property>instrumentation/nav-selector[0]/nav-source</property>
                    <value>1</value>
                </equals>
            </condition>
            <value>0</value>
        </input>
        <input>
            <condition>
                <equals>
                    <property>instrumentation/nav-selector[0]/nav-source</property>
                    <value>2</value>
                </equals>
            </condition>
            <value>0</value>
        </input>
        <output>instrumentation/nav-selector[0]/gs-intercept-sec</output>
    </filter>

    <filter>
        <name>glideslope direct-deg</name>
        <debug>false</debug>
        <type>gain</type>
        <input>
            <condition>
                <equals>
                    <property>instrumentation/nav-selector[0]/nav-source</property>
                    <value>0</value>
                </equals>
                <equals>
                    <property>instrumentation/nav-selector[0]/nav-radio</property>
                    <value>0</value>
                </equals>
            </condition>
            <property>instrumentation/nav[0]/gs-direct-deg</property>
        </input>
        <input>
            <condition>
                <equals>
                    <property>instrumentation/nav-selector[0]/nav-source</property>
                    <value>0</value>
                </equals>
                <equals>
                    <property>instrumentation/nav-selector[0]/nav-radio</property>
                    <value>1</value>
                </equals>
            </condition>
            <property>instrumentation/nav[1]/gs-direct-deg</property>
        </input>
        <input>
            <condition>
                <equals>
                    <property>instrumentation/nav-selector[0]/nav-source</property>
                    <value>1</value>
                </equals>
            </condition>
            <value>0</value>
        </input>
        <input>
            <condition>
                <equals>
                    <property>instrumentation/nav-selector[0]/nav-source</property>
                    <value>2</value>
                </equals>
            </condition>
            <value>0</value>
        </input>
        <output>instrumentation/nav-selector[0]/gs-direct-deg</output>
    </filter>

    <filter>
        <name>glideslope needle-deflection-deg</name>
        <debug>false</debug>
        <type>gain</type>
        <input>
            <condition>
                <equals>
                    <property>instrumentation/nav-selector[0]/nav-source</property>
                    <value>0</value>
                </equals>
                <equals>
                    <property>instrumentation/nav-selector[0]/nav-radio</property>
                    <value>0</value>
                </equals>
            </condition>
            <property>instrumentation/nav[0]/gs-needle-deflection-deg</property>
        </input>
        <input>
            <condition>
                <equals>
                    <property>instrumentation/nav-selector[0]/nav-source</property>
                    <value>0</value>
                </equals>
                <equals>
                    <property>instrumentation/nav-selector[0]/nav-radio</property>
                    <value>1</value>
                </equals>
            </condition>
            <property>instrumentation/nav[1]/gs-needle-deflection-deg</property>
        </input>
        <input>
            <condition>
                <equals>
                    <property>instrumentation/nav-selector[0]/nav-source</property>
                    <value>1</value>
                </equals>
            </condition>
            <value>0</value>
        </input>
        <input>
            <condition>
                <equals>
                    <property>instrumentation/nav-selector[0]/nav-source</property>
                    <value>2</value>
                </equals>
            </condition>
            <value>0</value>
        </input>
        <output>instrumentation/nav-selector[0]/gs-needle-deflection-deg</output>
    </filter>

    <filter>
        <name>dme-valid</name>
        <debug>false</debug>
        <type>gain</type>
        <input>
            <condition>
                <equals>
                    <property>instrumentation/nav-selector[0]/nav-source</property>
                    <value>0</value>
                </equals>
                <equals>
                    <property>instrumentation/nav-selector[0]/nav-radio</property>
                    <value>0</value>
                </equals>
            </condition>
            <property>instrumentation/dme[0]/in-range</property>
        </input>
        <input>
            <condition>
                <equals>
                    <property>instrumentation/nav-selector[0]/nav-source</property>
                    <value>0</value>
                </equals>
                <equals>
                    <property>instrumentation/nav-selector[0]/nav-radio</property>
                    <value>1</value>
                </equals>
            </condition>
            <property>instrumentation/dme[1]/in-range</property>
        </input>
        <input>
            <condition>
                <equals>
                    <property>instrumentation/nav-selector[0]/nav-source</property>
                    <value>1</value>
                </equals>
            </condition>
            <value>0</value>
        </input>
        <input>
            <condition>
                <equals>
                    <property>instrumentation/nav-selector[0]/nav-source</property>
                    <value>2</value>
                </equals>
            </condition>
            <value>1</value>
        </input>
        <output>instrumentation/nav-selector[0]/dme-valid</output>
    </filter>

    <filter>
        <name>dme-distance-nm</name>
        <debug>false</debug>
        <type>gain</type>
        <input>
            <condition>
                <equals>
                    <property>instrumentation/nav-selector[0]/nav-source</property>
                    <value>0</value>
                </equals>
                <equals>
                    <property>instrumentation/nav-selector[0]/nav-radio</property>
                    <value>0</value>
                </equals>
            </condition>
            <property>instrumentation/dme[0]/indicated-distance-nm</property>
        </input>
        <input>
            <condition>
                <equals>
                    <property>instrumentation/nav-selector[0]/nav-source</property>
                    <value>0</value>
                </equals>
                <equals>
                    <property>instrumentation/nav-selector[0]/nav-radio</property>
                    <value>1</value>
                </equals>
            </condition>
            <property>instrumentation/dme[1]/indicated-distance-nm</property>
        </input>
        <input>
            <condition>
                <equals>
                    <property>instrumentation/nav-selector[0]/nav-source</property>
                    <value>1</value>
                </equals>
            </condition>
            <value>0</value>
        </input>
        <input>
            <condition>
                <equals>
                    <property>instrumentation/nav-selector[0]/nav-source</property>
                    <value>2</value>
                </equals>
            </condition>
            <property>instrumentation/gps[0]/wp/wp[1]/distance-nm</property>
        </input>
        <output>instrumentation/nav-selector[0]/dme-distance-nm</output>
    </filter>

    <filter>
        <name>dme-distance-display</name>
        <debug>false</debug>
        <type>gain</type>
        <input>
            <condition>
                <equals>
                    <property>instrumentation/nav-selector[0]/nav-source</property>
                    <value>0</value>
                </equals>
                <equals>
                    <property>instrumentation/nav-selector[0]/nav-radio</property>
                    <value>0</value>
                </equals>
            </condition>
            <expression>
                <floor>
                    <sum>
                        <product>
                            <property>instrumentation/dme[0]/indicated-distance-nm</property>
                            <value>10.0</value>
                        </product>
                        <value>0.5</value>
                    </sum>
                </floor>
            </expression>
        </input>
        <input>
            <condition>
                <equals>
                    <property>instrumentation/nav-selector[0]/nav-source</property>
                    <value>0</value>
                </equals>
                <equals>
                    <property>instrumentation/nav-selector[0]/nav-radio</property>
                    <value>1</value>
                </equals>
            </condition>
            <expression>
                <floor>
                    <sum>
                        <product>
                            <property>instrumentation/dme[1]/indicated-distance-nm</property>
                            <value>10.0</value>
                        </product>
                        <value>0.5</value>
                    </sum>
                </floor>
            </expression>
        </input>
        <input>
            <condition>
                <equals>
                    <property>instrumentation/nav-selector[0]/nav-source</property>
                    <value>1</value>
                </equals>
            </condition>
            <value>0</value>
        </input>
        <input>
            <condition>
                <equals>
                    <property>instrumentation/nav-selector[0]/nav-source</property>
                    <value>2</value>
                </equals>
            </condition>
            <expression>
                <floor>
                    <sum>
                        <product>
                            <property>instrumentation/gps[0]/wp/wp[1]/distance-nm</property>
                            <value>10.0</value>
                        </product>
                        <value>0.5</value>
                    </sum>
                </floor>
            </expression>
        </input>
        <output>instrumentation/nav-selector[0]/dme-distance-display</output>
    </filter>

</PropertyList>
